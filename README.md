# 에스키모 (Eskimo) 보드게임 구현

2022131037 이주영 기말 프로젝트

## 목차

1. [프로젝트 제작 개요](#프로젝트-제작-개요)
2. [게임 룰](#게임-룰)
3. [개발 및 구성 과정](#개발-및-구성-과정)

---

## 1. 프로젝트 제작 개요

보드게임이나 두뇌 서바이벌 등을 매우 좋아하고 관련 게임이나 방송 프로그램을 제작 및 진행을 주로 하는 저는, 평소에 진행에 있어서 엑셀을 주로 사용해 왔습니다. 이번 기회를 통해 제가 관심가지던 진행에 있어서 파이썬을 진행 장치로서 유용하게 사용할 수 있는 기회가 되었으면 좋겠다는 생각으로 보드게임 구현화를 결정하였습니다.

처음에 제작을 고려했던 게임은 두 종류로, SEND-TAC-TOE(Ultimate 틱택토)라는 착수 추상전략 게임과, 파나틱 지니어스에서 제작한 에스키모라는 기물 이동 추상전략 게임입니다. [SEND-TAC-TOE 룰지](https://cafe.naver.com/geniuslike/115) [에스키모 룰 영상](https://www.youtube.com/watch?v=Z7Nn6rXVP_8)

두 게임 모두 제작을 해보고 싶었지만, 제가 진행하는 이 프로젝트의 목적은 파이썬을 두뇌 관련 게임 및 서바이벌 진행에 사용하기 위해 익히고, 그 오류를 바로바로 검증하면서 최종적인 코드를 짜는 것이었습니다.

따라서, 최대 81개의 착수가 발생할 수 있고, 결과는 50수 이상이 걸리며 매 턴 10개 판의 틱택토를 확인해야하는 SEND-TAC-TOE보다는 비교적 간단하고, 훨씬 자유로운 이동을 통해 오류 검증을 효율적으로 할 수 있는 에스키모를 제작해보기로 결정하였습니다. 

---

## 2. <에스키모> 게임 룰
<에스키모>는 말의 적절한 이동을 통해 북극곰을 포위시켜야 하는 추상전략 게임입니다.

1. **초기 배치**

   * 5×5 격자판에서 진행됩니다.
   * 각 플레이어의 말은 자신의 앞쪽(1행과 5행)에 5개씩 놓입니다.
   * 북극곰 말은 판의 중앙(3행 3열)에 놓입니다.

2. **말 이동**

   * 플레이어의 차례가 되면 두 행동 중 하나를 수행해야 합니다.
   * 자신의 말 이동 : 자신의 말 중 하나를 선택하여 여덟 방향 중 한 방향으로 끝까지 이동합니다.
   * 북극곰 말 이동 : 북극곰 말 위치를 선택하고, 여덟 방향 중 한 방향을 선택하여 한 칸 이동시킵니다. 한 번 이동한 뒤에는 4턴동안 곰을 이동할 수 없습니다.
   * 북극곰 쿨다운의 예시입니다. A(곰 이동) > B > A > B > A > B(곰 이동 가능)

3. **승리 조건**

   * 자신의 차례가 되었을 때, 북극곰 말의 상하좌우 4방향이 벽 또는 자신/상대의 말로 모두 막혀있으면 승리합니다.
   * 북극곰 말을 상하좌우가 막힌 빈 공간으로 대각선으로 이동하여 승리하는 것도 가능합니다.

---

## 3. 개발 및 구성 과정

1. **Colab 셀 분리**

   * CELL 1 : `Game` 클래스 정의

     'dir_map' : 8방향의 이름(U, D, R, L, UR, UL, DR, DL)과 그 방향을 격자 내에서 정의한 dictionary입니다.

     `__init__` : 5 by 5 격자를 정의하는 이중리스트 self.board에 각 칸이 빈칸인지 어떤 말이 놓여있는지를 저장하고, self.bear_cooldown을 북극곰의 이동 제한사항을 주는 변수로 설정하였습니다.

     `valid_player_move` : 각 플레이어의 말 이동 행동이 정상적인 행동인지를 판단하는 함수입니다. 턴을 진행하는 플레이어의 말인지 / 방향이 유효한지 / 그 방향의 앞 칸이 비어있는지를 확인한 후, 정상적인 이동이 가능하다면 그 방향으로 끝까지 이동시킵니다.

     `valid_bear_move` : 각 플레이어의 북극곰 이동 행동이 정상적인 행동인지를 판단하는 함수입니다. 북극곰의 쿨다운이 0인지 / 선택한 칸에 북극곰 말이 있는지 / 방향이 유효한지 / 해당 방향의 칸이 비어있는지를 확인한 후, 정상적인 이동이 가능하다면 그 방향으로 한 칸 이동시킵니다.

     `is_bear_trapped` : 이동 결과 북극곰이 갇히게 되었는지를 판단하는 함수입니다. 현재 북극곰의 위치에서 상/하/좌/우가 빈칸인지 여부를 확인하며, 벽이라면 막힌 것으로 간주하여 게임을 종료시키거나 계속 진행시키도록 합니다.
     
   * CELL 2 : 게임 보드 제작
     `print_board`: 콘솔 텍스트/이미지 보드 출력 함수입니다.
     ver 1) 단순 5 by 5의 문자형 텍스트 출력하는 방식으로 구상하였습니다. 이 경우, 행/열의 번호가 없어 알아보기 어렵다는 생각이 들었습니다.
     ver 2) 텍스트로 격자를 추가하고, 행/열의 번호를 같이 출력하여 이동 입력을 수월하게 하도록 변화하였습니다.
     
   * CELL 3 : 게임 실행 함수
     `play_game`: 메인 루프 및 입력 처리 함수로 다음과 같은 구성을 가짐
      1. 종료되지 않은 경우, 현재 보드 출력 및 다음 이동 입력 준비
      2. 입력이 존재하는지/형식에 부합하는지 확인 후 부합하지 않는 경우 관련 메시지를 출력 후 판 재출력
      3. 곰 - 이동 형식에는 맞지만 막혀있거나, 쿨다운 중이어서 불가능한 이동인 경우, 관련 메시지 출력 후 판 재출력, 정상적인 이동인 경우 처리
      4. 자신의 말 - 자신의 말이 맞는지, 최소 한 칸 이동하는지를 확인 후, 오류가 있다면 관련 메시지 출력 후 판 재출력, 정상적인 이동인 경우 처리
      5. 처리가 된 경우, 곰이 이동하지 않았다면 곰의 쿨다운 감소

---
